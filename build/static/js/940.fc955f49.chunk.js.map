{"version":3,"file":"static/js/940.fc955f49.chunk.js","mappings":"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","sources":["webpack://yedyni-platform-client/./src/components/Diary/Diary.module.css?99ff","components/Diary/Diary.jsx","redux/exercises/selectors.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Diary_form__cacLH\",\"groupInput\":\"Diary_groupInput__9bqlO\",\"groupInputDate\":\"Diary_groupInputDate__iSS7I\",\"inputDate\":\"Diary_inputDate__JOT3I\",\"groupInputTest\":\"Diary_groupInputTest__R6A-A\",\"inputTest\":\"Diary_inputTest__5Kk9x\",\"groupTextarea\":\"Diary_groupTextarea__hzWHA\",\"label\":\"Diary_label__ihMs4\",\"textarea\":\"Diary_textarea__uKM+A\",\"wrapperBtn\":\"Diary_wrapperBtn__iSJoG\",\"primaryBtn\":\"Diary_primaryBtn__R4qCA\"};","import { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport DatePicker, {registerLocale} from 'react-datepicker';\r\nimport uk from 'date-fns/locale/uk';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport { addExercise, updateExercise } from 'redux/exercises/operations';\r\nimport { selectCurrentLesson, selectExercise } from 'redux/exercises/selectors';\r\nimport css from './Diary.module.css';\r\n\r\nexport default function Diary ({courseId, lessonId}) {\r\n    registerLocale('uk', uk)\r\n  const dispatch = useDispatch();  \r\n\r\n  const {homework} = useSelector(selectExercise);\r\n  const currentLesson = useSelector(selectCurrentLesson);\r\n  const [textInput, setTextInput] = useState(homework);\r\n  const [isActiveTextarea, setIsActiveTextarea] = useState(false);\r\n  const [dateInput, setDateInput] = useState('');\r\n  const [testInput, setTestInput] = useState('');\r\n\r\n  const handleDateInputChange = date => {\r\n    setDateInput(date);\r\n  };\r\n\r\n  const handleTestInputChange = (e) => {\r\n    setTestInput(e.target.value);\r\n  };\r\n\r\n  const handleTextChange = (e) => {\r\n    setTextInput(e.target.value);\r\n    setIsActiveTextarea(true);\r\n  };\r\n\r\n  const isTextValid = (text) => {\r\n    if (text.length > 500) {\r\n      alert('Поле повинно містити не більше 500 символів.');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    const formData = new FormData();\r\n    formData.append('courseId', courseId);\r\n    formData.append('lessonId', lessonId);\r\n\r\n    if (!isTextValid(textInput)) {\r\n      return;\r\n    }\r\n\r\n    formData.append('homework', textInput);\r\n  \r\n    if (homework === '') {\r\n      dispatch(\r\n        addExercise(formData)\r\n      );\r\n    } else {\r\n      dispatch(\r\n        updateExercise(formData)\r\n      );\r\n    }\r\n    setIsActiveTextarea(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Функція-обробник для обробки події beforeunload\r\n    const handleBeforeUnload = (e) => {\r\n      // Перевірка, чи активне текстове поле, і якщо так, попередження користувача\r\n      if (isActiveTextarea) {\r\n        e.preventDefault();\r\n        e.returnValue = '';\r\n      }\r\n    };\r\n\r\n    // Додавання обробника події beforeunload при монтуванні компонента\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n\r\n    // Видалення обробника події beforeunload при розмонтуванні компонента\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  }, [isActiveTextarea]);\r\n\r\n  return (\r\n    <>\r\n      <Form onSubmit={handleSubmit} className={css.form}>\r\n        <Form.Group \r\n            controlId=\"formInput\"\r\n            className={css.groupInput} \r\n            >\r\n        <Form.Group \r\n            controlId=\"formDate\"\r\n            className={css.groupInputDate} \r\n            >\r\n            <Form.Label className={css.label}>\r\n                Дата:\r\n            </Form.Label>\r\n            <DatePicker \r\n                className={css.inputDate}\r\n                selected={dateInput}\r\n                onChange={handleDateInputChange}\r\n                dateFormat=\"dd-MM-yyyy\"\r\n                maxDate={new Date()}\r\n                locale=\"uk\" \r\n            />\r\n        </Form.Group>\r\n        <Form.Group \r\n            controlId=\"formTest\"\r\n            className={css.groupInputTest} \r\n            >\r\n            <Form.Label className={css.label}>\r\n                Тест:\r\n            </Form.Label>\r\n            <Form.Control \r\n            as=\"input\"   \r\n            value={testInput} \r\n            onChange={handleTestInputChange}\r\n            className={css.inputTest} \r\n            />\r\n            <Form.Label className={css.label}>\r\n                з 10\r\n            </Form.Label>\r\n        </Form.Group>\r\n        </Form.Group>\r\n        <Form.Group \r\n          controlId=\"formText\"\r\n          className={css.groupTextarea} \r\n        >\r\n          <Form.Label className={css.label}>\r\n            Що я вмію?\r\n          </Form.Label>\r\n          <Form.Control \r\n            as=\"textarea\" rows={4} \r\n            placeholder=\"Введіть текст\" \r\n            value={textInput} \r\n            onChange={handleTextChange}\r\n            className={css.textarea} \r\n          />\r\n        </Form.Group>\r\n        <Form.Group \r\n          controlId=\"formText\"\r\n          className={css.groupTextarea} \r\n        >\r\n          <Form.Label className={css.label}>\r\n            Над чим варто попрацювати?\r\n          </Form.Label>\r\n          <Form.Control \r\n            as=\"textarea\" rows={4} \r\n            placeholder=\"Введіть текст\" \r\n            value={textInput} \r\n            onChange={handleTextChange}\r\n            className={css.textarea} \r\n          />\r\n        </Form.Group>\r\n        <div className={css.wrapperBtn}>\r\n          <Button \r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            className={css.primaryBtn}\r\n          >\r\n            Зберегти\r\n          </Button>\r\n        </div>        \r\n      </Form>\r\n      <img src={currentLesson.diary} alt='Щоденник' width=\"100%\" />\r\n    </>\r\n  ) \r\n};","export const selectExercise = state => state.exercises.exercise;\r\n\r\nexport const selectIsLoading = state => state.exercises.isLoading;\r\n\r\nexport const selectError = state => state.exercises.error;\r\n\r\nexport const selectCurrentLesson = state => state.lesson.currentLesson;"],"names":["Diary","_ref","courseId","lessonId","registerLocale","uk","dispatch","useDispatch","homework","useSelector","selectExercise","currentLesson","selectCurrentLesson","_useState","useState","_useState2","_slicedToArray","textInput","setTextInput","_useState3","_useState4","isActiveTextarea","setIsActiveTextarea","_useState5","_useState6","dateInput","setDateInput","_useState7","_useState8","testInput","setTestInput","handleTextChange","e","target","value","useEffect","handleBeforeUnload","preventDefault","returnValue","window","addEventListener","removeEventListener","_jsxs","_Fragment","children","Form","onSubmit","formData","FormData","append","length","alert","addExercise","updateExercise","className","css","controlId","_jsx","DatePicker","selected","onChange","date","dateFormat","maxDate","Date","locale","as","rows","placeholder","Button","variant","type","src","diary","alt","width","state","exercises","exercise","lesson"],"sourceRoot":""}